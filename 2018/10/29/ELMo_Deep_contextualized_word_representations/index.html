<!DOCTYPE html>





<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.7.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon-32x32.ico?v=7.4.1">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.ico?v=7.4.1">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.ico?v=7.4.1">
  <link rel="mask-icon" href="/images/logo.svg?v=7.4.1" color="#222">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">
  <meta name="baidu-site-verification" content="eYmWT0dEmt">

<link rel="stylesheet" href="/css/main.css?v=7.4.1">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2">
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.4.1',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":-1,"unescape":true,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: '复制',
      copy_success: '复制成功',
      copy_failure: '复制失败'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="NAACL 2018最佳论文 Deep contextualized word representations：艾伦人工智能研究所提出新型深度语境化词表征（研究者使用从双向 LSTM 中得到的向量，该 LSTM 是使用成对语言模型（LM）目标在大型文本语料库上训练得到的。因此，该表征叫作 ELMo（Embeddings from Language Models）表征。）。">
<meta name="keywords" content="Language Modeling,ELMO,word representations">
<meta property="og:type" content="article">
<meta property="og:title" content="ELMo Deep contextualized word representations">
<meta property="og:url" content="https://yuanxiaosc.github.io/2018/10/29/ELMo_Deep_contextualized_word_representations/index.html">
<meta property="og:site_name" content="望江人工智库">
<meta property="og:description" content="NAACL 2018最佳论文 Deep contextualized word representations：艾伦人工智能研究所提出新型深度语境化词表征（研究者使用从双向 LSTM 中得到的向量，该 LSTM 是使用成对语言模型（LM）目标在大型文本语料库上训练得到的。因此，该表征叫作 ELMo（Embeddings from Language Models）表征。）。">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://yuanxiaosc.github.io/2018/10/29/ELMo_Deep_contextualized_word_representations/e2.png">
<meta property="og:image" content="https://yuanxiaosc.github.io/2018/10/29/ELMo_Deep_contextualized_word_representations/e1.jpg">
<meta property="og:image" content="https://yuanxiaosc.github.io/2018/10/29/ELMo_Deep_contextualized_word_representations/ELMo_paper_页面_01.png">
<meta property="og:image" content="https://yuanxiaosc.github.io/2018/10/29/ELMo_Deep_contextualized_word_representations/ELMo_paper_页面_02.png">
<meta property="og:image" content="https://yuanxiaosc.github.io/2018/10/29/ELMo_Deep_contextualized_word_representations/ELMo_paper_页面_03.png">
<meta property="og:image" content="https://yuanxiaosc.github.io/2018/10/29/ELMo_Deep_contextualized_word_representations/ELMo_paper_页面_04.png">
<meta property="og:image" content="https://yuanxiaosc.github.io/2018/10/29/ELMo_Deep_contextualized_word_representations/ELMo_paper_页面_05.png">
<meta property="og:image" content="https://yuanxiaosc.github.io/2018/10/29/ELMo_Deep_contextualized_word_representations/ELMo_paper_页面_06.png">
<meta property="og:image" content="https://yuanxiaosc.github.io/2018/10/29/ELMo_Deep_contextualized_word_representations/ELMo_paper_页面_07.png">
<meta property="og:image" content="https://yuanxiaosc.github.io/2018/10/29/ELMo_Deep_contextualized_word_representations/ELMo_paper_页面_08.png">
<meta property="og:image" content="https://yuanxiaosc.github.io/2018/10/29/ELMo_Deep_contextualized_word_representations/ELMo_paper_页面_09.png">
<meta property="og:image" content="https://yuanxiaosc.github.io/2018/10/29/ELMo_Deep_contextualized_word_representations/ELMo_paper_页面_10.png">
<meta property="og:image" content="https://yuanxiaosc.github.io/2018/10/29/ELMo_Deep_contextualized_word_representations/ELMo_paper_页面_11.png">
<meta property="og:image" content="https://yuanxiaosc.github.io/2018/10/29/ELMo_Deep_contextualized_word_representations/ELMo_paper_页面_12.png">
<meta property="og:image" content="https://yuanxiaosc.github.io/2018/10/29/ELMo_Deep_contextualized_word_representations/ELMo_paper_页面_13.png">
<meta property="og:image" content="https://yuanxiaosc.github.io/2018/10/29/ELMo_Deep_contextualized_word_representations/ELMo_paper_页面_14.png">
<meta property="og:image" content="https://yuanxiaosc.github.io/2018/10/29/ELMo_Deep_contextualized_word_representations/ELMo_paper_页面_15.png">
<meta property="og:updated_time" content="2019-04-17T06:24:42.716Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ELMo Deep contextualized word representations">
<meta name="twitter:description" content="NAACL 2018最佳论文 Deep contextualized word representations：艾伦人工智能研究所提出新型深度语境化词表征（研究者使用从双向 LSTM 中得到的向量，该 LSTM 是使用成对语言模型（LM）目标在大型文本语料库上训练得到的。因此，该表征叫作 ELMo（Embeddings from Language Models）表征。）。">
<meta name="twitter:image" content="https://yuanxiaosc.github.io/2018/10/29/ELMo_Deep_contextualized_word_representations/e2.png">
  <link rel="canonical" href="https://yuanxiaosc.github.io/2018/10/29/ELMo_Deep_contextualized_word_representations/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>ELMo Deep contextualized word representations | 望江人工智库</title>
  








  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">望江人工智库</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
      
        
        <li class="menu-item menu-item-home">
      
    

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-categories">
      
    

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-tags">
      
    

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-about">
      
    

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
      <li class="menu-item menu-item-search">
        <a href="javascript:;" class="popup-trigger">
        
          <i class="fa fa-search fa-fw"></i>搜索</a>
      </li>
    
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="搜索..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/yuanxiaosc" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
            

          <div id="content" class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://yuanxiaosc.github.io/2018/10/29/ELMo_Deep_contextualized_word_representations/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="袁宵">
      <meta itemprop="description" content="专注于机器学习前沿论文（技术）研究和应用，欢迎邮件交流。">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="望江人工智库">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">ELMo Deep contextualized word representations

          
        </h2>

        <div class="post-meta">
		  	  
			  
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
			   

              
                
              

              <time title="创建时间：2018-10-29 09:55:50" itemprop="dateCreated datePublished" datetime="2018-10-29T09:55:50+08:00">2018-10-29</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-04-17 14:24:42" itemprop="dateModified" datetime="2019-04-17T14:24:42+08:00">2019-04-17</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/论文/" itemprop="url" rel="index"><span itemprop="name">论文</span></a></span>

                
                
                  ，
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/论文/论文阅读/" itemprop="url" rel="index"><span itemprop="name">论文阅读</span></a></span>

                
                
              
            </span>
          

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
        
      
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2018/10/29/ELMo_Deep_contextualized_word_representations/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/2018/10/29/ELMo_Deep_contextualized_word_representations/" itemprop="commentCount"></span></a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <blockquote>
<p>NAACL 2018最佳论文 <a href="https://arxiv.org/abs/1802.05365v2" target="_blank" rel="noopener">Deep contextualized word representations</a>：艾伦人工智能研究所提出新型深度语境化词表征（研究者使用从双向 LSTM 中得到的向量，该 LSTM 是使用成对语言模型（LM）目标在大型文本语料库上训练得到的。因此，该表征叫作 ELMo（Embeddings from Language Models）表征。）。</p>
</blockquote><a id="more"></a>
<p><img src="/2018/10/29/ELMo_Deep_contextualized_word_representations/e2.png" alt=""><br>ELMo 核心思想</p>
<h2 id="最推荐-ELMo-TensorFlow-Hub-的使用方法"><a href="#最推荐-ELMo-TensorFlow-Hub-的使用方法" class="headerlink" title="最推荐 ELMo TensorFlow Hub 的使用方法"></a>最推荐 <a href="https://tfhub.dev/google/elmo/2" target="_blank" rel="noopener">ELMo TensorFlow Hub 的使用方法</a></h2><p><strong>Overview</strong><br>Computes contextualized word representations using character-based word representations and bidirectional LSTMs, as described in the paper “Deep contextualized word representations” [1].</p>
<p>This modules supports inputs both in the form of raw text strings or tokenized text strings.</p>
<p>The module outputs fixed embeddings at each LSTM layer, a learnable aggregation of the 3 layers, and a fixed mean-pooled vector representation of the input.</p>
<p>The complex architecture achieves state of the art results on several benchmarks. Note that this is a very computationally expensive module compared to word embedding modules that only perform embedding lookups. The use of an accelerator is recommended.</p>
<p>Trainable parameters<br>The module exposes 4 trainable scalar weights for layer aggregation.</p>
<p><strong>Example use</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">elmo = hub.Module(<span class="string">"https://tfhub.dev/google/elmo/2"</span>, trainable=<span class="keyword">True</span>)</span><br><span class="line">embeddings = elmo(</span><br><span class="line">[<span class="string">"the cat is on the mat"</span>, <span class="string">"dogs are in the fog"</span>],</span><br><span class="line">signature=<span class="string">"default"</span>,</span><br><span class="line">as_dict=<span class="keyword">True</span>)[<span class="string">"elmo"</span>]</span><br></pre></td></tr></table></figure></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">elmo = hub.Module(<span class="string">"https://tfhub.dev/google/elmo/2"</span>, trainable=<span class="keyword">True</span>)</span><br><span class="line">tokens_input = [[<span class="string">"the"</span>, <span class="string">"cat"</span>, <span class="string">"is"</span>, <span class="string">"on"</span>, <span class="string">"the"</span>, <span class="string">"mat"</span>],</span><br><span class="line">[<span class="string">"dogs"</span>, <span class="string">"are"</span>, <span class="string">"in"</span>, <span class="string">"the"</span>, <span class="string">"fog"</span>, <span class="string">""</span>]]</span><br><span class="line">tokens_length = [<span class="number">6</span>, <span class="number">5</span>]</span><br><span class="line">embeddings = elmo(</span><br><span class="line">inputs=&#123;</span><br><span class="line"><span class="string">"tokens"</span>: tokens_input,</span><br><span class="line"><span class="string">"sequence_len"</span>: tokens_length</span><br><span class="line">&#125;,</span><br><span class="line">signature=<span class="string">"tokens"</span>,</span><br><span class="line">as_dict=<span class="keyword">True</span>)[<span class="string">"elmo"</span>]</span><br></pre></td></tr></table></figure>
<p><strong>Input</strong><br>The module defines two signatures: default, and tokens.</p>
<p>With the default signature, the module takes untokenized sentences as input. The input tensor is a string tensor with shape [batch_size]. The module tokenizes each string by splitting on spaces.</p>
<p>With the tokens signature, the module takes tokenized sentences as input. The input tensor is a string tensor with shape [batch_size, max_length] and an int32 tensor with shape [batch_size] corresponding to the sentence length. The length input is necessary to exclude padding in the case of sentences with varying length.</p>
<p><strong>Output</strong><br>The output dictionary contains:</p>
<ul>
<li>word_emb: the character-based word representations with shape [batch_size, max_length, 512].</li>
<li>lstm_outputs1: the first LSTM hidden state with shape [batch_size, max_length, 1024].</li>
<li>lstm_outputs2: the second LSTM hidden state with shape [batch_size, max_length, 1024].</li>
<li>elmo: the weighted sum of the 3 layers, where the weights are trainable. This tensor has shape [batch_size, max_length, 1024]</li>
<li>default: a fixed mean-pooling of all contextualized word representations with shape [batch_size, 1024].</li>
</ul>
<h3 id="用代码来解释"><a href="#用代码来解释" class="headerlink" title="用代码来解释"></a>用代码来解释</h3><blockquote>
<p>更多内容见我的 <a href="https://github.com/yuanxiaosc/ELMo" target="_blank" rel="noopener">GitHub</a></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"><span class="keyword">import</span> tensorflow_hub <span class="keyword">as</span> hub</span><br><span class="line"><span class="comment"># elmo_url="https://tfhub.dev/google/elmo/2"</span></span><br><span class="line"><span class="comment"># hub.Module(elmo_url, trainable=True)</span></span><br><span class="line"><span class="comment"># You can either use the URL directly or download the file locally and then use it.</span></span><br><span class="line"><span class="comment"># hub.Module(path_to_elmo_model, trainable=True)</span></span><br><span class="line"></span><br><span class="line">tokens_input = [[<span class="string">"the"</span>, <span class="string">"cat"</span>, <span class="string">"is"</span>, <span class="string">"on"</span>, <span class="string">"the"</span>, <span class="string">"mat"</span>],</span><br><span class="line">                [<span class="string">"dogs"</span>, <span class="string">"are"</span>, <span class="string">"in"</span>, <span class="string">"the"</span>, <span class="string">"fog"</span>, <span class="string">""</span>]]</span><br><span class="line">tokens_length = [<span class="number">6</span>, <span class="number">5</span>]</span><br><span class="line">max_length = max(tokens_length)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">tokens_elmo</span><span class="params">(path_to_hub_elmo_model=<span class="string">"https://tfhub.dev/google/elmo/2"</span>)</span>:</span></span><br><span class="line">    elmo_tokens_input = tf.placeholder(dtype=tf.string, shape=[<span class="keyword">None</span>, max_length], name=<span class="string">"tokens_input"</span>)</span><br><span class="line">    elmo_sequence_length_input = tf.placeholder(dtype=tf.int32, shape=[<span class="keyword">None</span>,], name=<span class="string">"tokens_length"</span>)</span><br><span class="line"></span><br><span class="line">    module = hub.Module(path_to_hub_elmo_model, trainable=<span class="keyword">True</span>)</span><br><span class="line">    module_features = module(inputs=&#123;<span class="string">"tokens"</span>:elmo_tokens_input, <span class="string">"sequence_len"</span>:elmo_sequence_length_input&#125;,</span><br><span class="line">                             signature=<span class="string">'tokens'</span>, as_dict=<span class="keyword">True</span>)</span><br><span class="line">    elmo_embedding = module_features[<span class="string">"elmo"</span>]  <span class="comment">#[batch_size, max_length, 1024], the weighted sum of the 3 layers, where the weights are trainable.</span></span><br><span class="line">    <span class="keyword">return</span> elmo_tokens_input, elmo_sequence_length_input, elmo_embedding</span><br><span class="line"></span><br><span class="line">elmo_tokens_input, elmo_sequence_length_input, elmo_embedding = tokens_elmo(path_to_hub_elmo_model=<span class="string">"/home/b418/jupyter_workspace/B418_common/袁宵/tfhub_modules/elmo"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</span><br><span class="line">    sess.run([tf.global_variables_initializer(), tf.tables_initializer()])</span><br><span class="line">    out_elmo_embedding = sess.run(elmo_embedding,feed_dict=&#123;elmo_tokens_input:tokens_input,</span><br><span class="line">                                                                elmo_sequence_length_input:tokens_length&#125;)</span><br><span class="line">    print(<span class="string">"out_elmo_shape:\t"</span>, out_elmo_embedding.shape)</span><br></pre></td></tr></table></figure>
<h2 id="广义-ELMo-使用方法"><a href="#广义-ELMo-使用方法" class="headerlink" title="广义 ELMo 使用方法"></a>广义 ELMo 使用方法</h2><p><a href="https://zhuanlan.zhihu.com/p/38254332" target="_blank" rel="noopener">如何使用ELMo的词向量呢？</a>( 论文 3.3 有详细描述)<br>在supervised learning的情况下，可以各种自如的使用:</p>
<ol>
<li>直接将ELMo词向量 ELMo_k 与普通的词向量 x_k拼接（concat）[ x_k;ELMo_k ]。</li>
<li>直接将ELMo词向量ELMo_k 与隐层输出向量 h_k 拼接[ h_k;ELMo_k ]，在SNLI,SQuAD上都有提升。</li>
</ol>
<p>代码使用实例：</p>
<ul>
<li><a href="https://github.com/allenai/allennlp/blob/master/tutorials/how_to/elmo.md" target="_blank" rel="noopener">官方版</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/37915351" target="_blank" rel="noopener">知乎简版</a></li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>标题</th>
<th>说明</th>
<th>附加</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://arxiv.org/abs/1802.05365v2" target="_blank" rel="noopener">Deep contextualized word representations</a></td>
<td>该研究提出了一种新型深度语境化词表征，可对词使用的复杂特征（如句法和语义）和词使用在语言语境中的变化进行建模（即对多义词进行建模）。这些表征可以轻松添加至已有模型，并在 6 个 NLP 问题中显著提高当前最优性能。</td>
<td>20180215</td>
</tr>
<tr>
<td><a href="https://tfhub.dev/google/elmo/2" target="_blank" rel="noopener">TensorFlow Hub 实现</a></td>
<td>Embeddings from a language model trained on the 1 Billion Word Benchmark.</td>
<td></td>
</tr>
<tr>
<td><a href="https://allennlp.org/elmo" target="_blank" rel="noopener">allennlp.org - elmo</a></td>
<td>论文官网 elmo</td>
<td></td>
</tr>
<tr>
<td><a href="https://github.com/allenai/bilm-tf" target="_blank" rel="noopener">bilm-tf</a></td>
<td>论文官方实现 Tensorflow implementation of contextualized word representations from bi-directional language models</td>
<td></td>
</tr>
<tr>
<td><a href="https://www.jiqizhixin.com/articles/060704" target="_blank" rel="noopener">NAACL 2018最佳论文：艾伦人工智能研究所提出新型深度语境化词表征</a></td>
<td>机器之心解读</td>
<td>20180607</td>
</tr>
<tr>
<td><a href="https://github.com/strongio/keras-elmo" target="_blank" rel="noopener">把 ELMo 作为 keras 的一个嵌入层使用</a></td>
<td>GitHub</td>
<td>201804</td>
</tr>
<tr>
<td><a href="https://zhuanlan.zhihu.com/p/36221795" target="_blank" rel="noopener">NAACL18 Best Paper: ELMo</a></td>
<td><a href="https://www.zhihu.com/people/liyuan-liu-64" target="_blank" rel="noopener">Liyuan Liu</a> 解读</td>
<td></td>
</tr>
<tr>
<td><a href="https://zhuanlan.zhihu.com/p/37684922" target="_blank" rel="noopener">论文笔记ELMo</a></td>
<td><a href="https://www.zhihu.com/people/zhao-lai-fu-72/activities" target="_blank" rel="noopener">赵来福</a> 详细解读</td>
<td></td>
</tr>
<tr>
<td><a href="https://zhuanlan.zhihu.com/p/38254332" target="_blank" rel="noopener">ELMo 最好用的词向量《Deep Contextualized Word Representations》</a></td>
<td><a href="https://www.zhihu.com/people/mountain-blue-64/activities" target="_blank" rel="noopener">mountain blue</a> 详细解读</td>
<td></td>
</tr>
<tr>
<td><a href="https://towardsdatascience.com/visualizing-elmo-contextual-vectors-94168768fdaa" target="_blank" rel="noopener">visualizing-elmo-contextual-vectors</a></td>
<td>可视化ELMo上下文向量</td>
<td>20190417</td>
</tr>
</tbody>
</table>
</div>
<p><img src="/2018/10/29/ELMo_Deep_contextualized_word_representations/e1.jpg" alt=""></p>
<h1 id="Deep-contextualized-word-representations"><a href="#Deep-contextualized-word-representations" class="headerlink" title="Deep contextualized word representations"></a><a href="https://arxiv.org/abs/1802.05365v2" target="_blank" rel="noopener">Deep contextualized word representations</a></h1><p>Matthew E. Peters, Mark Neumann, Mohit Iyyer, Matt Gardner, Christopher Clark, Kenton Lee, Luke Zettlemoyer</p>
<blockquote>
<p>Our word vectors are learned functions of the internal states of a deep bidirectional language model (biLM), which is pre-trained on a large text corpus. We show that these representations can be easily added to existing models and significantly improve the state of the art across six challenging NLP problems, including question answering, textual entailment and sentiment analysis. We also present an analysis showing that exposing the deep internals of the pre-trained network is crucial, allowing downstream models to mix different types of semi-supervision signals.</p>
<p>在本论文中，我们介绍了一种新型深度语境化词表征，可对词使用的复杂特征（如句法和语义）和词使用在语言语境中的变化进行建模（即对多义词进行建模）。我们的词向量是深度双向语言模型（biLM）内部状态的函数，在一个大型文本语料库中预训练而成。本研究表明，这些表征能够被轻易地添加到现有的模型中，并在六个颇具挑战性的 NLP 问题（包括问答、文本蕴涵和情感分析）中显著提高当前最优性能。此外，我们的分析还表明，揭示预训练网络的深层内部状态至关重要，可以允许下游模型综合不同类型的半监督信号。</p>
</blockquote>
<p>Comments:    NAACL 2018. Originally posted to openreview 27 Oct 2017. v2 updated for NAACL camera ready<br>Subjects:    Computation and Language (cs.CL)<br>Cite as:    arXiv:1802.05365 [cs.CL]<br>     (or arXiv:1802.05365v2 [cs.CL] for this version)</p>
<p><img src="/2018/10/29/ELMo_Deep_contextualized_word_representations/ELMo_paper_页面_01.png" alt=""><br><img src="/2018/10/29/ELMo_Deep_contextualized_word_representations/ELMo_paper_页面_02.png" alt=""><br><img src="/2018/10/29/ELMo_Deep_contextualized_word_representations/ELMo_paper_页面_03.png" alt=""><br><img src="/2018/10/29/ELMo_Deep_contextualized_word_representations/ELMo_paper_页面_04.png" alt=""><br><img src="/2018/10/29/ELMo_Deep_contextualized_word_representations/ELMo_paper_页面_05.png" alt=""><br><img src="/2018/10/29/ELMo_Deep_contextualized_word_representations/ELMo_paper_页面_06.png" alt=""><br><img src="/2018/10/29/ELMo_Deep_contextualized_word_representations/ELMo_paper_页面_07.png" alt=""><br><img src="/2018/10/29/ELMo_Deep_contextualized_word_representations/ELMo_paper_页面_08.png" alt=""><br><img src="/2018/10/29/ELMo_Deep_contextualized_word_representations/ELMo_paper_页面_09.png" alt=""><br><img src="/2018/10/29/ELMo_Deep_contextualized_word_representations/ELMo_paper_页面_10.png" alt=""><br><img src="/2018/10/29/ELMo_Deep_contextualized_word_representations/ELMo_paper_页面_11.png" alt=""><br><img src="/2018/10/29/ELMo_Deep_contextualized_word_representations/ELMo_paper_页面_12.png" alt=""><br><img src="/2018/10/29/ELMo_Deep_contextualized_word_representations/ELMo_paper_页面_13.png" alt=""><br><img src="/2018/10/29/ELMo_Deep_contextualized_word_representations/ELMo_paper_页面_14.png" alt=""><br><img src="/2018/10/29/ELMo_Deep_contextualized_word_representations/ELMo_paper_页面_15.png" alt=""></p>

    </div>

    
    
    
        
      
        <div id="reward-container">
  <div>本站所有文章和源码均免费开放，如您喜欢，可以请我喝杯咖啡</div>
  <button id="reward-button" disable="enable" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    打赏
  </button>
  <div id="qr" style="display: none;">
        
      
      <div style="display: inline-block">
        <img src="/images/wechatpay.jpg" alt="袁宵 微信支付">
        <p>微信支付</p>
      </div>
        
      
      <div style="display: inline-block">
        <img src="/images/alipay.jpg" alt="袁宵 支付宝">
        <p>支付宝</p>
      </div>

  </div>
</div>

      
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>袁宵</li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://yuanxiaosc.github.io/2018/10/29/ELMo_Deep_contextualized_word_representations/" title="ELMo Deep contextualized word representations">https://yuanxiaosc.github.io/2018/10/29/ELMo_Deep_contextualized_word_representations/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！</li>
</ul>
</div>

      

      <footer class="post-footer">
          
            
          
          <div class="post-tags">
            
              <a href="/tags/Language-Modeling/" rel="tag"># Language Modeling</a>
            
              <a href="/tags/ELMO/" rel="tag"># ELMO</a>
            
              <a href="/tags/word-representations/" rel="tag"># word representations</a>
            
          </div>
        

        

          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
              
                <a href="/2018/10/29/ELMo_Deep_contextualized_word_representations翻译/" rel="next" title="ELMo Deep contextualized word representations翻译">
                  <i class="fa fa-chevron-left"></i> ELMo Deep contextualized word representations翻译
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
                <a href="/2018/10/29/Character_Aware_Neural_Language_Models/" rel="prev" title="Character-Aware Neural Language Models">
                  Character-Aware Neural Language Models <i class="fa fa-chevron-right"></i>
                </a>
              
            </div>
          </div>
        
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          
    
    <div class="comments" id="comments"></div>
  

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">
        
        
        
        
      

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#最推荐-ELMo-TensorFlow-Hub-的使用方法"><span class="nav-number">1.</span> <span class="nav-text">最推荐 ELMo TensorFlow Hub 的使用方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#用代码来解释"><span class="nav-number">1.1.</span> <span class="nav-text">用代码来解释</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#广义-ELMo-使用方法"><span class="nav-number">2.</span> <span class="nav-text">广义 ELMo 使用方法</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Deep-contextualized-word-representations"><span class="nav-number"></span> <span class="nav-text">Deep contextualized word representations</span></a></div>
        
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image"
      src="/images/avatar.png"
      alt="袁宵">
  <p class="site-author-name" itemprop="name">袁宵</p>
  <div class="site-description" itemprop="description">专注于机器学习前沿论文（技术）研究和应用，欢迎邮件交流。</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives">
        
          <span class="site-state-item-count">141</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-categories">
        
          
            <a href="/categories/">
          
        
        <span class="site-state-item-count">56</span>
        <span class="site-state-item-name">分类</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-tags">
        
          
            <a href="/tags/">
          
        
        <span class="site-state-item-count">126</span>
        <span class="site-state-item-name">标签</span>
        </a>
      </div>
    
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="https://github.com/yuanxiaoSC" title="GitHub &rarr; https://github.com/yuanxiaoSC" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
    
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="mailto:wangzichaochaochao@gmail.com" title="E-Mail &rarr; mailto:wangzichaochaochao@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
    
  </div>
  <div class="cc-license motion-element" itemprop="license">
    
  
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>
	  

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2018 – <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">袁宵</span>
</div>
  <div class="addthis_inline_share_toolbox">
    <script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5d9c4b1ac4deb418" async="async"></script>
  </div>

<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">全站共 375k 字</span>
</div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
  
    <span class="post-meta-divider">|</span>
  
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
  
</div>












        
      </div>
    </footer>
  </div>

  
  <script size="300" alpha="0.6" zIndex="-1" src="//cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-ribbon@1/canvas-ribbon.js"></script>
  <script src="/lib/anime.min.js?v=3.1.0"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="/js/utils.js?v=7.4.1"></script><script src="/js/motion.js?v=7.4.1"></script>
<script src="/js/schemes/pisces.js?v=7.4.1"></script>

<script src="/js/next-boot.js?v=7.4.1"></script>



  
  <script>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>








  <script src="/js/local-search.js?v=7.4.1"></script>





  <script src="//code.tidio.co/ohblyq9gicnjwqem8o1hfoymk3calgui.js"></script>









  

  
    
      
<script type="text/x-mathjax-config">

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });

  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') {
          next = next.nextSibling;
        }
        if (next && next.nodeName.toLowerCase() === 'br') {
          next.parentNode.removeChild(next);
        }
      }
    });
  });

  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      element = document.getElementById(all[i].inputID + '-Frame').parentNode;
      if (element.nodeName.toLowerCase() == 'li') {
        element = element.parentNode;
      }
      element.classList.add('has-jax');
    }
  });
</script>
<script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML', () => {
    MathJax.Hub.Typeset();
  }, window.MathJax);
</script>

    
  

  

  


<script>
NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
  var GUEST = ['nick', 'mail', 'link'];
  var guest = 'nick,mail,link';
  guest = guest.split(',').filter(item => {
    return GUEST.includes(item);
  });
  new Valine({
    el: '#comments',
    verify: false,
    notify: false,
    appId: 'aTXvwHFSoz68yg6g3k5JzN7B-MdYXbMMI',
    appKey: 'Wkf7bKVEfcQ0sW4V1l144HLY',
    placeholder: '写下你的想法',
    avatar: 'mm',
    meta: guest,
    pageSize: '10' || 10,
    visitor: false,
    lang: '' || 'zh-cn',
    path: location.pathname,
    recordIP: false,
    serverURLs: ''
  });
}, window.Valine);
</script>

</body>
</html>
